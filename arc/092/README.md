# ARC092

## D
カテゴリ: 二分探索

整数x, kについて、 以下の記法を導入する。

* x[-k:] = x % 2**k
* x[k] = x & 2**(k - 1)
* m(x, k) = |{b[-k:] >= x}|
* M(k) = m(2**(k-1) - a_1[-(k - 1):], k - 1) + ... + m(2**(k-1) - a_N[-(k - 1):], k - 1)
* S(k) = a_1[k] + ... + a_N[k] + b_1[k] + ... + b_N[k]
直観的には、
x[-k:] は xの下k桁の値である。
x[k] はxの下k桁目の値である。
m(x, k) は下k桁の値がx以上であるbの要素数である。
M(k) は下k桁同士の値の和をとったときに（2進数上で）繰り上がりが発生する a と bの要素の組合せの数である。
S(k) は下k桁の値が1であるようなa, bの要素の数である。

求める解をansとする。ansについて、以下が成り立つことを利用する。

* Nが偶数ならば、
  * ans[1] = 0
  * k >= 2 について、ans[k] = M(k) % 2
* Nが奇数ならば、
  * ans[1] = S(1) % 2
  * k >= 2 について、ans[k] = (S(k) + M(k)) % 2

k = 1, 2, ... について、b_1[-k:], b_2[-k:], ..., b_N[-k:]を
事前に昇順ソートとしておくことで、Mを高速に計算できる。
