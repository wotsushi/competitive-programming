# 第5回 ドワンゴからの挑戦状 予選

## B
カテゴリ: 貪欲法

N <= 1000 より、すべての数列の和を列挙可能。
上位ビットから順にK個の整数を選択可能か判定し、選択可能なものを貪欲に残していけばよい。

## C
カテゴリ: 動的計画法

kごとに独立に問題を解く。
D[i], M[i], DM[i] を Sの(i - k + 1)文字目からi文字目までの部分文字列に含まれるD, M, DMの個数とする。
S[i] = 'C' を満たす i について、 DM[i] の和が解である。
以降、D, M, DM を効率的に計算する方法を述べる。
d(i) を S[i] が 'D' ならば 1, そうでなければ 0 である関数とする。
m(i) を S[i] が 'M' ならば 1, そうでなければ 0 である関数とする。
以下が成り立つ。

* D[0] = M[0] = DM[0] = 0
* 1 <= i <= k ならば
  * D[i] = D[i - 1] + d(i)
  * M[i] = M[i - 1] + m(i)
  * DM[i] = DM[i - 1] + m(i)D[i - 1]
* i > k ならば
  * D[i] = D[i - 1] + d(i) - d(i - k)
  * M[i] = M[i - 1] + m(i) - m(i - k)
  * DM[i] = DM[i - 1] - d(i - k)M[i - 1] + m(i)D[i]
