# M-SOLUTIONS2019

## C
カテゴリ: 数学

引き分けの末、高橋くんが勝つ確率pは p = A / (A + B), 青木君が勝つ確率qは q = B / (A + B) である。
また、どちらかが1回勝つまでにゲームが行われる回数の期待値は 100 / (100 - C) である。
高橋君がN回、青木君がi回勝ってゲームが終了する確率は (N + i - 1)Ci * p^N * q^{i} である。
高橋君がi回、青木君がN回勝ってゲームが終了する確率は (N + i - 1)Ci * q^N * p^{i} である。
以上より、解は、 (100 / (100 - C)) * ((N + 0) * (N - 1)C0 * (p^N * q^{0} + q^N * p^{0}) + ... + (N + N - 1) * (N + N - 1 - 1)C(N - 1) * (p^N * q^{N - 1} + q^N * p^{N - 1})) である。

## D
カテゴリ: 構築

頂点1を根とみなす。
頂点1から頂点iの距離を d_i とする。
d_i が大きい頂点から順に小さい整数を書き込むことでスコアを最大化できる。
なお、スコアの最大値は常に c_2 + c_3 + ... + c_N となる。

## E
カテゴリ: 数学

`x * (x + d) * ... * (x + (n - 1)d) = d^n * x/d * (x/d + 1) * ... * (x/d + (n - 1))`
である。
1,000,003で割った余りを求めることに注意する。
1,000,003未満の整数 k について, k! を事前に計算しておくことで、
各クエリについて、 `d^n * (x/d + (n - 1))! / ((x/d) - 1)!` を計算するだけで回答できる。
なお、d = 0 の場合がコーナーケースであり、 `x^n` が解であることに注意。
